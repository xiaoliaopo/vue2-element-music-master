# 网易云项目开发日志

## 轮播图

安装并导入axios

在`created`生命周期函数中调用轮播图接口，获取到数据并渲染到页面上

方法均为`method:'get'`

### 轮播图接口

### [banner](https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=banner)

说明 : 调用此接口 , 可获取 banner( 轮播图 ) 数据

**可选参数 :**

`type`:资源类型,对应以下类型,默认为 0 即 PC

```
0: pc

1: android

2: iphone

3: ipad
```

**接口地址 :** `/banner`

**调用例子 :** `/banner`, `/banner?type=2`

实际应用：![](https://pic.rmb.bdstatic.com/bjh/6c7b8671f9a6763d1c01b30584ddb0d6.png)

![](https://pic.rmb.bdstatic.com/bjh/dd5947466defee54251b81985b42bd48.png)



## 推荐歌单

在`created`生命周期函数中调用`推荐歌单`的接口

说明 : 调用此接口 , 可获取推荐歌单

**可选参数 :** `limit`: 取出数量 , 默认为 30 (不支持 offset)

**接口地址 :** `/personalized`

**调用例子 :** `/personalized?limit=1`

![](https://pic.rmb.bdstatic.com/bjh/a6bedb3836aeadf799adcf2d025129c6.png)



## 推荐新音乐

在`created`生命周期函数中调用`最新音乐`接口，获取数据并渲染到页面上

说明 : 调用此接口 , 可获取推荐新音乐

**可选参数 :** `limit`: 取出数量 , 默认为 10 (不支持 offset)

**接口地址 :** `/personalized/newsong`

**调用例子 :** `/personalized/newsong`

### 为播放按钮绑定点击事件

获取并调用`播放歌曲`接口

把获取到的播放地址，通过`$parent`传递给父组件

说明 : 调用此接口 , 传入视频 id,可获取视频播放地址

**必选参数 :** `id`: 视频 的 id

**接口地址 :** `/video/url`

**调用例子 :** `/video/url?id=89ADDE33C0AAE8EC14B99F6750DB954D`

![](https://pic.rmb.bdstatic.com/bjh/9ca47c71e115ffc65d1e5f76a94faea6.png)



## 推荐MV

在`created`生命周期函数中调用`推荐MV`接口

获得数据并将其渲染到页面上

说明 : 调用此接口 , 可获取推荐 mv

**接口地址 :** `/personalized/mv`

**调用例子 :** `/personalized/mv`



## 推荐歌单

### 精品歌单

说明 : 调用此接口 , 可获取精品歌单

**可选参数 :** `cat`: tag, 比如 " 华语 "、" 古风 " 、" 欧美 "、" 流行 ", 默认为 "全部",可从精品歌单标签列表接口获取(`/playlist/highquality/tags`)

`limit`: 取出歌单数量 , 默认为 20

`before`: 分页参数,取上一页最后一个歌单的 `updateTime` 获取下一页数据

**接口地址 :** `/top/playlist/highquality`

**调用例子 :** `/top/playlist/highquality?before=1503639064232&limit=3`





### 分类切换

点击分类时，需`高亮`当前分类，顶部数据切换，底部数据切换

接口和上方的接口保持一致



### 数据分页

歌单列表获取到之后，设置`总条数`给`分页组件`

为分页组件绑定页码和页容量，以便进行联动，在调用接口时，一起传递



## 最新音乐

### 歌曲列表

在`created`调用最新音乐接口，获取到数据后渲染到页面上，歌曲的默认的是毫秒数，我们需要处理成分秒的形式

说明 : 调用此接口 , 可获取新歌速递

**必选参数 :**

`type`: 地区类型 id,对应以下:

```
全部:0

华语:7

欧美:96

日本:8

韩国:16
```

**接口地址 :** `/top/song`

**调用例子 :** `/top/song?type=96`



### 分类切换

点击分类的时候，`高亮`当前分类

顶部数据进行切换的时候，底部数据也进行切换

在数据发生改变的时候要执行逻辑，可以使用监听器`watch`来实现



### 点击播放

为播放按钮`绑定点击事件`

调用获取播放歌曲接口

把获取到的播放地址，通过`$parent`传递给父组件



## 最新MV

### MV列表

在`created`调用全部MV接口

获取到数据之后，渲染到页面上，先不考虑分类和分页

播放量的信息需要进行处理，如果超过了10万，就显示`xx万`

说明 : 调用此接口 , 可获取全部 mv

**可选参数 :**
`area`: 地区,可选值为全部,内地,港台,欧美,日本,韩国,不填则为全部 `type`: 类型,可选值为全部,官方版,原生,现场版,网易出品,不填则为全部

`order`: 排序,可选值为上升最快,最热,最新,不填则为上升最快

`limit`: 取出数量 , 默认为 30

`offset`: 偏移数量 , 用于分页 , 如 :( 页数 -1)*50, 其中 50 为 limit 的值 , 默认 为 0

**接口地址 :** `/mv/all`

**调用例子 :** `/mv/all?area=港台`



### 数据分页

MV数据获取到之后，设置总条数给分页组件

为分页组件绑定页码和页容量，以便进行联动，在调用接口的时候一起传递数据

切换分类的时候，获取第一页的数据



## 搜索

### 页面的跳转

在顶部的搜索栏进行搜索跳转

携带数据前往搜索结果`(/result)`页面

将用户输入的搜索的关键字渲染到页面的顶部



### 歌曲搜索

在`created`生命周期函数中调用搜索接口



说明 : 调用此接口 , 传入搜索关键词可以搜索该音乐 / 专辑 / 歌手 / 歌单 / 用户 , 关键词可以多个 , 以空格隔开 , 如 " 周杰伦 搁浅 "( 不需要登录 ), 搜索获取的 mp3url 不能直接用 , 可通过 `/song/url` 接口传入歌曲 id 获取具体的播放链接

**必选参数 :** `keywords` : 关键词

**可选参数 :** `limit` : 返回数量 , 默认为 30 `offset` : 偏移数量，用于分页 , 如 : 如 :( 页数 -1)*30, 其中 30 为 limit 的值 , 默认为 0

`type`: 搜索类型；默认为 1 即单曲 , 取值意义 : 1: 单曲, 10: 专辑, 100: 歌手, 1000: 歌单, 1002: 用户, 1004: MV, 1006: 歌词, 1009: 电台, 1014: 视频, 1018:综合, 2000:声音(搜索声音返回字段格式会不一样)

**接口地址 :** `/search` 或者 `/cloudsearch`(更全)

**调用例子 :** `/search?keywords=海阔天空` `/cloudsearch?keywords=海阔天空`



## 歌单详情

歌单详情在很多的页面都可以进行跳转，记得在跳转的时候**携带数据**

路由地址是：`/playlist`



### 歌单信息

在`create`调用歌单信息接口，获取数据后渲染到界面上

说明 : 歌单能看到歌单名字, 但看不到具体歌单内容 , 调用此接口 , 传入歌单 id, 可 以获取对应歌单内的所有的音乐(未登录状态只能获取不完整的歌单,登录后是完整的)，但是返回的 trackIds 是完整的，tracks 则是不完整的，可拿全部 trackIds 请求一次 `song/detail` 接口获取所有歌曲的详情 (https://github.com/Binaryify/NeteaseCloudMusicApi/issues/452)

**必选参数 :** `id` : 歌单 id

**可选参数 :** `s` : 歌单最近的 s 个收藏者,默认为 8

**接口地址 :** `/playlist/detail`

**调用例子 :** `/playlist/detail?id=24381616`



### 热门评论

在`create`调用热门评论接口

说明 : 调用此接口 , 传入 type, 资源 id 可获得对应资源热门评论 ( 不需要登录 )

**必选参数 :**

`id` : 资源 id

`type`: 数字 , 资源类型 , 对应歌曲 , mv, 专辑 , 歌单 , 电台, 视频对应以下类型

```
0: 歌曲

1: mv

2: 歌单

3: 专辑

4: 电台

5: 视频
```

**可选参数 :** `limit`: 取出评论数量 , 默认为 20

`offset`: 偏移数量 , 用于分页 , 如 :( 评论页数 -1)*20, 其中 20 为 limit 的值

`before`: 分页参数,取上一页最后一项的 `time` 获取下一页数据(获取超过 5000 条评论的时候需要用到)

**接口地址 :** `/comment/hot`

**调用例子 :** `/comment/hot?id=186016&type=0`



## MV详情

MV详情在多个页面均可进行跳转，在跳转的时候应携带数据

组件名为`07.mv.vue`

路由地址为：`/mv`

### 播放MV

在`created`调用mv地址的接口

说明 : 调用此接口 , 传入 mv id,可获取 mv 播放地址

**必选参数 :** `id`: mv id

**可选参数 :** `r`: 分辨率,默认 1080,可从 `/mv/detail` 接口获取分辨率列表

**接口地址 :** `/mv/url`

**调用例子 :**
`/mv/url?id=5436712`
`/mv/url?id=10896407&r=1080`



### 相似mv

说明 : 调用此接口 , 传入 `mvid` 可获取相似 mv

**必选参数 :** `mvid`: mv id

**接口地址 :** `/simi/mv`

**调用例子 :** `/simi/mv?mvid=5436712`



### mv信息

在`created`调用mv信息接口

获取到mv数据之后，把数据渲染到页面上

在mv信息获取到后，调用歌手信息接口

### mv评论

说明 : 调用此接口 , 传入音乐 id 和 limit 参数 , 可获得该 mv 的所有评论 ( 不需要 登录 )

**必选参数 :** `id`: mv id

**可选参数 :** `limit`: 取出评论数量 , 默认为 20

`offset`: 偏移数量 , 用于分页 , 如 :( 评论页数 -1)*20, 其中 20 为 limit 的值

`before`: 分页参数,取上一页最后一项的 `time` 获取下一页数据(获取超过 5000 条评论的时候需要用到)

**接口地址 :** `/comment/mv`

**调用例子 :** `/comment/mv?id=5436712`
